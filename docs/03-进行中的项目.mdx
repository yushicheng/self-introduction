# 进行中的项目

## 项目背景
目前进行中的项目是一个由我独立开发的一个视频素材网站[https://www.vidscc.com/](https://www.vidscc.com/)
开发这个网站的初衷是为了尝试一下流量经济和SEO技术,之前对这些技术没有一个系统性的理解,
所以导致了我在职业道路上的迷茫,直到我在一家公司担任官网开发并且有相关SEO需求的时候我才意识到这个问题,
当时这个问题确实困扰了我很久,那个时候我天天在研究关于SSR渲染相关的内容,自己也尝试开发过一些工程脚手架,
当时没有取得太大的成功,反而当时还由于没有使用child_process导致了SSR开发时经常有内存栈溢出的问题,
所以当时我由于这个问题经常工作状态很不好,从而被公司开除了.
离职之后我便开始着手考虑SSR相关的事情了,直觉告诉我,SSR是打开独立开发大门的钥匙.


首先我修复了之前开发过程中内存栈溢出的问题,
考虑到SSR项目的首要需求是服务端内容的输出
我果断放弃了webpack-dev-server的开发模式和hot-reload,
这一部分内容便使用了直接编译静态文件的方式进行开发,
原本的dev-server也被我用koa2进行了改写,
搭配child_process.fork的方法可以实现SSR服务的实时热重载,
之后我将这个脚手架项目命名为【奇美拉】,顾明思议,"奇美拉"是希腊神话中的嵌合体,
我认为SSR服务+SPA的模式和奇美拉一样,也是一个嵌合体,是客户端文件和服务端文件的嵌合体,
他们的渲染结构是一致的,但所属的渲染系统是不一样的,有的时候甚至还会有全局变量的冲突.
<details>
  <summary>这个名字的灵感来源于"地狱凯撒亮"的"奇美超载龙"</summary>
  <div>
    <img style={{verticalAlign:"middle"}} src="https://storage.xpg.cards/image/DE01/JP026.jpg"/>
    <img style={{verticalAlign:"middle"}} src="https://img3.yimasm.com/pic/2021/07/13/0d66ec0a1f0440fae36051be597b11f1.jpg"/>
  </div>
</details>
当然这个项目涉及到的技术点也不只有SSR,在该项目的后端技术中还采用了基于nest.js的分布式微服务架构,
之前在公司担任的开发角色都没有过多的涉及到微服务这块技术,对一些技术细节也是一知半解  
当然在这个项目中我是充分的体会到了微服务对业务开发的优势,从早期的业务拆分和数据库垂直分表,
都是刷新了我对微服务开发的认知.  

总之这个项目是我使用技术栈最全面的一个项目.
从构思到开发到部署到推广,都是对以往工作经验的一个总结和升华
当然也还有严重不足的地方,就是没有做到像umijs那样的约定式封装,
目前还不足以在脚手架社区形成市场,不过我觉得这已经不是一个遥不可及的目标了,
我会在项目跟进的过程中把这个目标实现的.

## 项目及脚手架地址

- [奇美拉webpack工具源码地址](https://github.com/yushicheng/cyber-chimera)
- github项目地址-[vidscc](https://github.com/vidscc)该项目为私有,请微信私信我进入项目组
- [@cyber-chimera/create-chimera-project](https://www.npmjs.com/package/@cyber-chimera/create-chimera-project) 服务端渲染项目脚手架;
- [@cyber-tools/create-cyber-server](https://www.npmjs.com/package/@cyber-tools/create-cyber-server) 微服务脚手架;

## 架构示意图

<img src={require("@site/static/Vidscc架构示意图.jpg").default}/>


## 服务端开发涉及的核心技术栈

- nestjs
- typeorm
- puppeteer 爬虫套件
- @babel/parser + @babel/traverse 遍历抽象语法树获取资源地址

